# Jenkins
# CI/CD
1. 빌드란
컴파일 : 작성 소스코드 -> 바이너리 코드 변환 과정
링크 : 여러 소스코드들을 컴파일한 결과물들을 최종 실행 가능한 파일을 만들기 위해 필요한 부분을 찾아 연결하는 작업
빌드 : 소스 코드를 실행가능한 소프트웨어 산출물로(jar, war) 만드는 과정

2. 빌드 도구
소스 코드를 컴파일, 테스트, 정적 분석 등을 실시 하여 실행 가능한 어플리케이션으로 자동 생성하는 프로그램
계속해서 늘어나는 라이브러리의 자동 추가 및 관리
라이브러리의 버전을 자동으로 동기화
ex) in JAVA maven, gradle, ant

	1. Maven
	특징
	프로젝트에 필요한 모든 종속성(Dependency)을 리스트 형태로 Maven에게 알려주어 종속성 관리
	XML, Repository를 가져올 수 있다. pom.xml 이라는 Maven파일에 필요한 Jar, Class Path를 선언만하면
		직접 다운로드 할 필요가 없이 Repostory에서 자동으로 필요한 라이브러리 파일을 불러와준다.
	단점
	라이브러리가 서로 종속할 경우 XML이 복잡해진다
	계층적인 데이터를 표현하기엔 좋으나, 플로우나 조건부 상황을 표현하기 어렵다
	편리하나 맞춤화된 로직 실행이 어렵다
	학습장벽이 높다

	2. Gradle
	특징
	JVM 기반 빌드도구
	Ant, Maven의 단점 보완
	오픈소스 기반의 Build 자동화 도구
	단순한 그루비 문법을 넘어서 빌드 스크립트를 간략히 해주는 자체문법(DSL)을 제공
	규칙을 따라 디렉터리 구조를 만드는 규칙 기반 빌드로 빌드 스크립트 내용을 크게 줄일 수 있음(생산성 향상)
	Build-by-convention을 바탕으로한다 -> 스크립트 규모가 작고 읽기 쉽다.(자바 문법과 거의 같아 배우기 쉽다.)
	그래들 wrapper(래퍼)를 이용해 그래들이 설치되지 않은 환경에서도 빌드 가능
	Ant, Maven 같은 기존 빌드 툴의 기능과 시스템 활용 가능 -> 기존 자원 최대한 활용하면서 단계적으로 gradle로 이전가능

3. 배포란
작성한 코드를 빌드하고, 빌드가 완성된 실행 가능한 파일을 사용자가 접근할 수 있는 환경에 배치하면 배포가 완료된 것
빌드를 하고 생성된 jar 또는 war파일을 WAS에 올리는 것이 배포

git에 올리고 테스트 코드를 작성하고 이를 수행및 검증하는 작업

4. CI/CD
소프트웨어의 개발부터 배포까지 단계를 자동화 하는것
CI : Continuous Integration (지속적 통합)
개발자를 위한 자동화 프로세스인 지속적 통합으로 모든 개발이 끝난 이후에 코드품질을 관리하는 고전방식의 단점을 해소하기 위해 나타난 개념
지속적으로 퀄리티 컨트롤을 적용하는 프로세스
	1. 코드통합
	2. 통합 코드 테스트
	3. 빌드 테스트
	4. Repository에 통합
CD : Continuous Delivery(지속적인 배달), Continuous Deploy (지속적인 배포)
소프트웨어가 항상 신뢰가능한 수준(테스트 및 빌드 통과)에서 배포될 수 있도록 관리하자는 개념
배달이 이루어진 것을 배포하는 과정을 자동화 시키는 프로세스

5. 무중단 배포
기존에 동작하고있는 서버(배포가 완료된)가 존재
그 상태에서 새롭게 업데이트한 코드를 배포한다면?
충돌 발생 -> 기존에 서비스 중인 서버를 잠시 내리고 코드 배포후 다시 서버 동작시켜야한다(다운타임(유저에게 서비스가 불가능한 시간) 발생)

 서비스 장애와 배포의 부담을 최소화하기 위해 운영 중인 서비스를 중단하지 않고 신규 소프트웨어를 배포하는 기술.
무중단 배포의 핵심은 로드밸런서(Load Balancer)를 통해 연결된 두 개 이상의 (서로 다른 IP, 포트를 가진) 인스턴스에 트래픽을 제어해 배포하는 것

	필요조건
	두대 이상의 서버를 서비스 해야한다.
	다운타임이 발생하지 않으려면 실제 서비스 중인 서버와 새롭게 배포한 서버가 동시에 존재해야 한다.
	비용을 줄이려면 배포할 때만 새롭게 서버를 띄우고 배포를 완료된 후에 기존서버를 죽인다.

	1. Rolling 배포
		서버 1을 로드 밸런서에서 뺀다
		서버 1에 배포
		서버 1을 다시 로드 밸런서에 넣는다
		서버 2를 로드 밸런서에서 뺀다
		서버 2에 배포
		서버 2를 다시 로드 밸런서에 넣는다
	   단점
	   배포할 서버가 많다면 n대 단위로 배포하기도 하는데
	   배포가 모두 끝나기 전까지는 누구는 이전 서비스를 받고 누구는 신규서비스를 받을 수 있다는 문제 존제
	   1대에 배포하는 것 보다 최소 2배이상 느리다
	2. Canary 배포
	소수의 유저만 사용하는 환경(Canary환경)에 신규 버전을 배포하고 문제가 없다고 판단됐을 때 다른 모든 서버에 배포한다
	3. Blue/Green 배포
	실제 서비스 환경(Blue)과 새롭게 배포할 환경(Green)을 세트로 준비해서 배포하는 방식
	    장점
	    새롭게 배포할 환경에만 배포하면 되기 때문에 배포 속도가 매우 빠르다.
	    언제나 Green 환경이 떠있기 때문에 만약 잘못된 버전으로 배포했을경우 신속하게 롤백 가능
	    단점
	    Green 환경이 항상 떠있어야 하기 때문에 비용이 두배로 든다. 
